{% extends "auth_base.html" %}

{% block title %}Inscription - EasyInvoice{% endblock %}

{% block auth_title %}Créer un compte{% endblock %}

{% block auth_content %}
<form method="post">
    {% csrf_token %}
    
    {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {{ form.non_field_errors }}
        </div>
    {% endif %}
    
    <div class="mb-3">
        <label for="id_username" class="form-label">Nom d'utilisateur</label>
        <input type="text" name="username" class="form-control" id="id_username" required 
               value="{{ form.username.value|default:'' }}">
        {% if form.username.errors %}
            <div class="text-danger small mt-1">{{ form.username.errors }}</div>
        {% endif %}
        <small class="helptext">150 caractères maximum. Lettres, chiffres et @/./+/-/_ uniquement.</small>
    </div>
    
    <div class="mb-3">
        <label for="id_password1" class="form-label">Mot de passe</label>
        <input type="password" name="password1" class="form-control" id="id_password1" required>
        {% if form.password1.errors %}
            <div class="text-danger small mt-1">{{ form.password1.errors }}</div>
        {% endif %}
        <small class="helptext">
            • Au moins 8 caractères<br>
            • Ne peut pas être entièrement numérique<br>
            • Ne peut pas être trop commun
        </small>
    </div>
    
    <div class="mb-4">
        <label for="id_password2" class="form-label">Confirmation du mot de passe</label>
        <input type="password" name="password2" class="form-control" id="id_password2" required>
        {% if form.password2.errors %}
            <div class="text-danger small mt-1">{{ form.password2.errors }}</div>
        {% endif %}
        <small class="helptext">Entrez le même mot de passe pour vérification.</small>
    </div>
    
    <button type="submit" class="btn btn-primary">
        <i class="fas fa-user-plus me-2"></i>
        Créer mon compte
    </button>
</form>

<hr class="auth-divider">

<div class="auth-link">
    Déjà un compte ? <a href="{% url 'CORE:login' %}">Se connecter</a>
</div>

<div class="auth-link">
    <a href="{% url 'CORE:home' %}"><i class="fas fa-arrow-left me-1"></i> Retour à l'accueil</a>
</div>
{% endblock %}
