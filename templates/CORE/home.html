{% extends "base.html" %}
{% load static %}

{% block title %}fluktura - Générateur de factures gratuit{% endblock %}

{% block extra_css %}
<style>
    :root{
        --hero-purple: #6A1B9A;
        --hero-blue: #3B82F6;
    }

    /* HERO - Mobile First */
    .hero{
        position: relative;
        color: #fff;
        padding: 2rem 0 2.5rem 0;
        background: 
            radial-gradient(800px 500px at 50% 20%, rgba(139,92,246,.28), transparent 65%),
            radial-gradient(600px 400px at 50% 80%, rgba(59,130,246,.22), transparent 70%),
            linear-gradient(135deg, #581C87 0%, #1E3A8A 100%);
        overflow: hidden;
    }
    @media (min-width: 768px){
        .hero{ padding: 4rem 0 3.5rem 0; }
    }
    @media (min-width: 992px){
        .hero{ 
            padding: 5rem 0 4rem 0; 
            min-height: 600px;
            display: flex;
            align-items: center;
        }
    }
    .hero::before{
        content:'';
        position:absolute; inset:-20% -10% auto -10%;
        height: 60%;
        background: radial-gradient(40% 65% at 65% 35%, rgba(255,255,255,.16), transparent 60%);
        filter: blur(24px);
        animation: moveGlow 12s ease-in-out infinite alternate;
        pointer-events:none;
    }
    .hero::after{
        content:'';
        position:absolute; inset:auto -15% -15% auto;
        width: 40%;
        height: 40%;
        background: radial-gradient(circle at center, rgba(251,191,36,.14), transparent 65%);
        filter: blur(30px);
        animation: moveGlow 14s ease-in-out infinite alternate-reverse;
        pointer-events:none;
    }
    @keyframes moveGlow { from{ transform: translate(-12px, -8px);} to{ transform: translate(12px, 8px);} }
    /* Logo - Mobile First */
    .brand-corner{ 
        display: block;
        text-align: center; 
        margin-bottom: 1.25rem;
        padding-top: .5rem;
    }
    .brand-corner .brand-logo{ 
        width: 140px; 
        height: auto; 
        filter: drop-shadow(0 4px 12px rgba(0,0,0,.3)); 
    }
    @media (min-width: 768px){
        .brand-corner .brand-logo{ width: 160px; }
    }
    @media (min-width: 992px){ 
        .brand-corner{ 
            position: absolute; 
            top: 20px; 
            right: 150px; 
            margin-bottom: 0;
            padding-top: 0;
        }
        .brand-corner .brand-logo{ width: 240px; }
    }
    @media (min-width: 1200px){
        .brand-corner{ right: 200px; }
        .brand-corner .brand-logo{ width: 280px; }
    }
    .hero-inner{
        display: block; /* override grid to align with custom .row layout */
        gap: 2rem;
        align-items: center;
    }
    @media (min-width: 992px){
        .hero-inner{ grid-template-columns: 1.2fr 1fr; }
    }
    /* Typography - Mobile First */
    .hero-title{
        font-family: 'Poppins', sans-serif;
        font-weight: 800;
        line-height: 1.2;
        letter-spacing: -.3px;
        font-size: 1.65rem;
        margin: 0 0 .85rem 0;
        text-shadow: 0 4px 16px rgba(0,0,0,.3);
        text-align: center;
    }
    .hero-subtitle{
        font-size: .95rem;
        opacity: .92;
        margin-bottom: 1.25rem;
        line-height: 1.5;
        text-align: center;
    }
    @media (min-width: 768px){
        .hero-title{ font-size: 2.2rem; margin-bottom: 1rem; }
        .hero-subtitle{ font-size: 1.05rem; margin-bottom: 1.5rem; }
    }
    @media (min-width: 992px){
        .hero-title{ 
            font-size: 3rem; 
            text-align: left; 
            margin-bottom: 1.2rem;
            letter-spacing: .2px;
        }
        .hero-subtitle{ 
            font-size: 1.2rem; 
            text-align: left; 
            margin-bottom: 1.75rem; 
        }
    }
    @media (min-width: 1200px){
        .hero-title{ font-size: 3.4rem; }
    }
    .brand-gradient{ 
        background: linear-gradient(120deg, #FDE68A 0%, #A7F3D0 35%, #60A5FA 70%, #C084FC 100%); 
        -webkit-background-clip: text; 
        background-clip: text; 
        color: transparent;
        animation: hueShift 8s ease-in-out infinite;
    }
    @keyframes hueShift { 0%, 100%{ filter: hue-rotate(0deg);} 50%{ filter: hue-rotate(15deg);} }
    .hero-title{ position: relative; }
    .hero-title::after{ 
        content:''; 
        display:block; 
        height:6px; 
        width:80px; 
        border-radius:999px; 
        margin: 10px auto 0 auto; 
        background: linear-gradient(90deg, rgba(251,191,36,.75), rgba(167,243,208,.6), rgba(96,165,250,.5)); 
        box-shadow: 0 3px 12px rgba(251,191,36,.3);
    }
    @media (min-width: 992px){
        .hero-title::after{ 
            height:8px; 
            width:140px; 
            margin: 12px 0 0 0; 
        }
    }
    /* CTA Buttons - Mobile First */
    .hero-actions{
        justify-content: center;
        gap: .75rem;
    }
    .hero-actions .btn{
        border-radius: 999px;
        padding: .75rem 1.1rem;
        font-weight: 700;
        letter-spacing: .2px;
        transition: transform .15s ease, box-shadow .2s ease;
        box-shadow: 0 8px 20px rgba(0,0,0,.2);
        font-size: .9rem;
        flex: 1;
        min-width: 0;
        max-width: 200px;
    }
    @media (min-width: 768px){
        .hero-actions .btn{ 
            padding: .85rem 1.3rem; 
            font-size: .95rem;
            flex: 0;
            min-width: 180px;
            max-width: none;
        }
    }
    @media (min-width: 992px){
        .hero-actions{ justify-content: flex-start; gap: .85rem; }
        .hero-actions .btn{ padding: .9rem 1.4rem; font-size: 1rem; min-width: 200px; }
    }
    .btn-cta-primary{
        background: linear-gradient(90deg, var(--hero-purple), var(--hero-blue));
        color: #fff;
        border: 0;
        position: relative;
        overflow: hidden;
    }
    .btn-cta-primary::after{
        content:''; position:absolute; inset:0 -120% 0 auto; width:120%; background: linear-gradient(90deg, rgba(255,255,255,.0), rgba(255,255,255,.25), rgba(255,255,255,.0));
        transform: translateX(-100%);
        transition: transform .35s ease;
    }
    .btn-cta-primary:hover{ transform: translateY(-2px); box-shadow: 0 16px 32px rgba(0,0,0,.22); }
    .btn-cta-primary:hover::after{ transform: translateX(0); }
    .btn-cta-secondary{
        background: rgba(255,255,255,.08);
        color: #fff;
        border: 2px solid rgba(255,255,255,.35);
        backdrop-filter: blur(4px);
    }
    .btn-cta-secondary:hover{ transform: translateY(-2px); box-shadow: 0 16px 32px rgba(0,0,0,.22); background: rgba(255,255,255,.12); }
    .orb{ position: absolute; border-radius: 50%; filter: blur(8px); opacity: .85; }
    .orb-lg{ width: 260px; height: 260px; right: 10%; top: -10%; background: radial-gradient(circle at 30% 30%, #8B5CF6, #3B82F6); }
    .orb-sm{ width: 140px; height: 140px; left: 5%; bottom: 0; background: radial-gradient(circle at 30% 30%, #F472B6, #6A1B9A); opacity: .7; }
    .preview-card{ background: rgba(255,255,255,.12); border: 1px solid rgba(255,255,255,.25); color: #fff; border-radius: 16px; padding: 1rem 1rem 1.2rem 1rem; backdrop-filter: blur(8px); box-shadow: 0 10px 30px rgba(0,0,0,.25); }
    .preview-card .row{ --bs-gutter-x: .75rem; }
    .preview-title{ font-weight: 700; margin-bottom: .5rem; }
    .preview-line{ display: flex; justify-content: space-between; font-size: .95rem; opacity: .95; }
    .preview-total{ display: flex; justify-content: space-between; font-weight: 800; font-size: 1.1rem; margin-top: .5rem; }
    /* Invoice Screenshot - Mobile First */
    .invoice-shot{
        display: none;
    }
    @media (min-width: 768px){
        .invoice-shot{
            display: block;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,.2);
            background: rgba(255,255,255,.05);
            box-shadow: 0 8px 24px rgba(0,0,0,.25);
            width: 100%;
            max-width: 280px;
            max-height: 350px;
            object-fit: contain;
            margin: 0 auto;
        }
    }
    @media (min-width: 992px){
        .invoice-shot{ 
            animation: floatY 6s ease-in-out infinite;
            max-width: 240px;
            max-height: 320px;
        }
    }
    @media (min-width: 1200px){
        .invoice-shot{ 
            max-width: 280px;
            max-height: 380px;
        }
    }
    .hero .hero-logo{ width: 96px; max-width: 100%; height: auto; filter: drop-shadow(0 6px 14px rgba(0,0,0,.25)); animation: floatY 7s ease-in-out infinite reverse; }
    @keyframes floatY { from{ transform: translateY(-6px);} 50%{ transform: translateY(4px);} to{ transform: translateY(-6px);} }

    /* Badges - Mobile First */
    .badge-chip{
        display:inline-flex; 
        align-items:center; 
        gap:.35rem;
        padding:.4rem .65rem; 
        border-radius:999px; 
        font-weight:600; 
        font-size:.8rem;
        color:#fff; 
        background: linear-gradient(135deg, rgba(139,92,246,.2), rgba(59,130,246,.18)); 
        border:1px solid rgba(255,255,255,.2);
        backdrop-filter: blur(4px);
        box-shadow: 0 3px 10px rgba(0,0,0,.12);
        transition: transform .15s ease;
    }
    @media (min-width: 768px){
        .badge-chip{ 
            padding:.45rem .75rem; 
            font-size:.85rem; 
            gap:.4rem;
        }
    }
    @media (min-width: 992px){
        .badge-chip{ 
            padding:.5rem .85rem; 
            font-size:.9rem; 
            border:1.5px solid rgba(255,255,255,.25);
        }
        .badge-chip:hover{ transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,.2); }
    }

    /* Sections */
    .section{ padding: 4rem 0; }
    .section-title{ font-family: 'Poppins', sans-serif; font-weight: 800; letter-spacing: .2px; margin-bottom: .5rem; }
    .section-subtitle{ color: var(--text-secondary); margin-bottom: 2rem; }

    /* Steps */
    .steps-wrap{ display: grid; grid-template-columns: 1fr; gap: 1.25rem; }
    @media (min-width: 768px){ .steps-wrap{ grid-template-columns: repeat(3, 1fr); gap: 1.5rem; } }
    .step-card{
        background: linear-gradient(145deg, #1a1f35, #0d1117);
        color: #e5e7eb;
        border: 1.5px solid rgba(139,92,246,.15);
        border-radius: 20px;
        padding: 1.5rem 1.5rem 1.75rem 1.5rem;
        box-shadow: 0 8px 24px rgba(2,6,23,.35), inset 0 1px 0 rgba(255,255,255,.03);
        transition: transform .2s ease, box-shadow .3s ease, border-color .3s ease;
        height: 100%;
        opacity: 0; transform: translateY(20px);
        animation: fadeUp .8s ease forwards;
        position: relative;
        overflow: hidden;
    }
    .step-card::before{
        content:'';
        position:absolute; inset: 0;
        background: radial-gradient(circle at top right, rgba(139,92,246,.08), transparent 60%);
        opacity: 0;
        transition: opacity .3s ease;
    }
    .step-card:hover::before{ opacity: 1; }
    .steps-wrap .step-card:nth-child(1){ animation-delay: .1s; }
    .steps-wrap .step-card:nth-child(2){ animation-delay: .25s; }
    .steps-wrap .step-card:nth-child(3){ animation-delay: .4s; }
    @keyframes fadeUp { to{ opacity:1; transform: translateY(0);} }
    .step-card:hover{ transform: translateY(-6px); box-shadow: 0 16px 36px rgba(2,6,23,.45), inset 0 1px 0 rgba(255,255,255,.06); border-color: rgba(139,92,246,.35); }
    .step-badge{
        width: 60px; height: 60px; border-radius: 14px;
        display: inline-flex; align-items: center; justify-content: center;
        background: linear-gradient(135deg, rgba(106,27,154,.9), rgba(59,130,246,.9));
        color: #fff; font-size: 1.4rem; margin-bottom: .9rem;
        box-shadow: 0 10px 22px rgba(59,130,246,.25);
    }
    .step-title{ font-weight: 700; color: #fff; }
    .step-text{ color: #cbd5e1; margin: 0; }

    /* Contact */
    .contact{ 
        background: linear-gradient(165deg, #0d1117 0%, #1a1f35 100%); 
        position: relative;
    }
    .contact::before{
        content:'';
        position:absolute; top:0; left:0; right:0; height:1px;
        background: linear-gradient(90deg, transparent, rgba(139,92,246,.35), transparent);
    }
    .contact-card{
        background: rgba(255,255,255,.04);
        border: 1.5px solid rgba(139,92,246,.12);
        border-radius: 20px;
        padding: 1.75rem;
        box-shadow: 0 12px 32px rgba(2,6,23,.45), inset 0 1px 0 rgba(255,255,255,.04);
        transition: box-shadow .3s ease, border-color .3s ease;
    }
    .contact-card:hover{
        border-color: rgba(139,92,246,.25);
        box-shadow: 0 16px 40px rgba(2,6,23,.55), inset 0 1px 0 rgba(255,255,255,.06);
    }
    .contact .form-control{
        background: rgba(255,255,255,.05);
        border: 1.5px solid rgba(255,255,255,.12);
        color: #e5e7eb;
        border-radius: 14px;
        padding: 1rem 1.1rem;
        transition: all .2s ease;
    }
    .contact .form-control:focus{
        background: rgba(255,255,255,.08);
        color: #fff;
        border-color: rgba(96,165,250,.5);
        box-shadow: 0 0 0 3px rgba(96,165,250,.12), 0 4px 12px rgba(59,130,246,.25);
        transform: translateY(-1px);
    }

    /* CTA */
    .cta{ 
        background: linear-gradient(180deg, #f9fafb 0%, #e5e7eb 100%); 
        text-align: center; 
        padding: 5rem 0; 
        position: relative;
    }
    .cta::before{
        content:'';
        position:absolute; inset:0;
        background: radial-gradient(ellipse 800px 400px at 50% 50%, rgba(139,92,246,.08), transparent 70%);
        pointer-events:none;
    }
    .cta .section-title{ color: var(--text-primary); position: relative; z-index: 1; }
    .cta .btn{ position: relative; z-index: 1; }

    /* Footer */
    footer{
        background: radial-gradient(900px 400px at 10% 10%, rgba(106,27,154,.25), transparent 60%),
                    radial-gradient(900px 400px at 90% 20%, rgba(59,130,246,.22), transparent 60%),
                    #0f172a;
        color: #fff;
        padding: 2.2rem 0 2rem 0;
        border-top: 1px solid rgba(255,255,255,.08);
    }
    .footer-grid{ display: grid; gap: 1.5rem; }
    @media (min-width: 992px){ .footer-grid{ grid-template-columns: 1.2fr .8fr .8fr; } }
    .footer-logo{ height: 42px; margin-bottom: .75rem; }
    .footer-title{ font-weight: 700; margin-bottom: .75rem; }
    .footer-links a{ display: block; color: #cbd5e1; text-decoration: none; padding: .25rem 0; }
    .footer-links a:hover{ color: #fff; }
    .footer-note{ border-top: 1px dashed rgba(255,255,255,.12); margin-top: 1.2rem; padding-top: .9rem; color: #cbd5e1; }

    /* Global Mobile Improvements */
    .container{ 
        padding-left: 1rem; 
        padding-right: 1rem; 
    }
    @media (min-width: 768px) {
        .container{ padding-left: 1.5rem; padding-right: 1.5rem; }
    }
    
    .section{ padding: 2.5rem 0; }
    @media (min-width: 768px) {
        .section{ padding: 3.5rem 0; }
    }
    @media (min-width: 992px) {
        .section{ padding: 4.5rem 0; }
    }
</style>
{% endblock %}

{% block body %}
<!-- HERO -->
<section class="hero">
    <a class="brand-corner" href="{% url 'CORE:home' %}">
        <img class="brand-logo" src="{% static 'CORE/img/logobg.png' %}" alt="fluktura">
    </a>
    
    <div class="container">
        <div class="hero-inner">
            <div class="row align-items-center">
                <div class="col-12 col-lg-7">
                    <h1 class="hero-title"><span class="brand-gradient">fluktura</span> — créez, envoyez et suivez vos factures</h1>
                    <p class="hero-subtitle">La solution rapide et mobile‑first pour générer des factures professionnelles, suivre les paiements et gérer vos clients en un clin d'œil.</p>
                    <div class="hero-actions d-flex flex-wrap mb-2">
                        <a href="{% url 'CORE:register' %}" class="btn btn-cta-primary">
                            <i class="fas fa-rocket me-1 d-none d-lg-inline"></i><i class="fas fa-rocket me-1 d-lg-none"></i> <span class="d-none d-lg-inline">Commencer gratuitement</span><span class="d-lg-none">Commencer</span>
                        </a>
                        <a href="{% url 'CORE:login' %}" class="btn btn-cta-secondary">
                            <i class="fas fa-sign-in-alt me-1 d-lg-none"></i><i class="fas fa-play me-1 d-none d-lg-inline"></i> <span class="d-none d-lg-inline">j'ai déjà un compte</span><span class="d-lg-none">Connexion</span>
                        </a>
                    </div>
                    <div class="d-flex flex-wrap gap-2 justify-content-center justify-content-lg-start">
                        <span class="badge-chip"><i class="fas fa-mobile-alt"></i> <span class="d-none d-lg-inline">Créer</span></span>
                        <span class="badge-chip"><i class="fas fa-file-pdf"></i> <span class="d-none d-lg-inline">Partager</span><span class="d-lg-none">Partager</span></span>
                        <span class="badge-chip"><i class="fas fa-gift"></i> <span class="d-none d-lg-inline">100% gratuit</span><span class="d-lg-none">Gratuit</span></span>
                    </div>
                </div>
                <div class="col-12 col-lg-5 mt-3 mt-lg-0 text-center text-lg-end">
                    <img class="invoice-shot" src="{% static 'CORE/img/invoice_example.png' %}" alt="Exemple de facture fluktura" onerror="this.style.display='none'">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- HOW IT WORKS -->
<section class="section" style="background: #0b1020;">
    <div class="container">
        <h2 class="section-title text-white text-center">Comment ça marche</h2>
        <p class="section-subtitle text-center text-white-50">Inscrivez‑vous, remplissez votre profil émetteur, créez votre première facture et suivez l'état des paiements.</p>
        <div class="steps-wrap">
            <div class="step-card">
                <div class="step-badge"><i class="fas fa-user-plus"></i></div>
                <h3 class="step-title h5 mb-2">1. Créer un compte</h3>
                <p class="step-text">Inscription en 1 minute. Accédez à votre tableau de bord sécurisé depuis n’importe quel appareil.</p>
            </div>
            <div class="step-card">
                <div class="step-badge"><i class="fas fa-id-card"></i></div>
                <h3 class="step-title h5 mb-2">2. Renseigner votre profil</h3>
                <p class="step-text">Nom d’entreprise, SIRET, adresse… Vos infos sont préremplies dans chaque facture.</p>
            </div>
            <div class="step-card">
                <div class="step-badge"><i class="fas fa-file-invoice"></i></div>
                <h3 class="step-title h5 mb-2">3. Générer & envoyer</h3>
                <p class="step-text">Ajoutez vos lignes, générez le PDF, envoyez au client et suivez le statut (payée, en retard…).</p>
            </div>
        </div>
    </div>
</section>

<!-- CONTACT -->
<section id="contact" class="section contact">
    <div class="container">
        <h2 class="section-title text-white text-center">Contact</h2>
        <p class="section-subtitle text-center text-white-50">Une question sur fluktura ? Envoyez‑nous un message, nous répondons rapidement.</p>
        <form class="contact-card" method="post" action="{% url 'CORE:contact_submit' %}">
            {% csrf_token %}
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label text-white-50">Prénom</label>
                    <input type="text" name="first_name" class="form-control" placeholder="John" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-white-50">Nom</label>
                    <input type="text" name="last_name" class="form-control" placeholder="Doe">
                </div>
                <div class="col-md-6">
                    <label class="form-label text-white-50">Email</label>
                    <input type="email" name="email" class="form-control" placeholder="john.doe@example.com" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-white-50">Téléphone</label>
                    <input type="text" name="phone" class="form-control" placeholder="+33 6 12 34 56 78">
                </div>
                <div class="col-12">
                    <label class="form-label text-white-50">Message</label>
                    <textarea rows="5" name="message" class="form-control" placeholder="Comment pouvons‑nous vous aider ?" required></textarea>
                </div>
                <div class="col-12">
                    <button type="submit" class="btn btn-cta-primary">
                        <i class="fas fa-paper-plane me-2"></i> Envoyer
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>

<!-- CTA -->
<section class="cta">
    <div class="container">
        <h2 class="section-title mb-3" style="font-size: 2rem;">Prêt à commencer ?</h2>
        <a href="{% url 'CORE:register' %}" class="btn btn-cta-primary btn-lg px-5">
            <i class="fas fa-rocket me-2"></i> Créer mon compte gratuitement
        </a>
    </div>
</section>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="footer-grid">
            <div>
                <img class="footer-logo" src="{% static 'CORE/img/logobg.png' %}" alt="fluktura logo">
                <p class="mb-2">fluktura — créez des factures pro en quelques clics, depuis votre téléphone.</p>
                <div class="d-flex gap-2">
                    <a href="#" class="text-white-50"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-white-50"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="text-white-50"><i class="fab fa-facebook"></i></a>
                </div>
            </div>
            <div>
                <div class="footer-title">Liens utiles</div>
                <div class="footer-links">
                    <a href="{% url 'CORE:login' %}">Se connecter</a>
                    <a href="{% url 'CORE:register' %}">Créer un compte</a>
                    <a href="{% url 'CORE:invoice_list' %}">Mes factures</a>
                </div>
            </div>
            <div>
                <div class="footer-title">Contact</div>
                <div class="footer-links">
                    <a href="mailto:aliou@gabithex.fr"><i class="fas fa-envelope me-1"></i> aliou@gabithex.fr</a>
                    <a href="mailto:info@fluktura.fr"><i class="fas fa-envelope me-1"></i> info@fluktura.fr</a>
                    <span class="d-block text-white-50"><i class="fas fa-map-marker-alt me-1"></i> 59 rue de Ponthieu, 75008 Paris</span>
                </div>
            </div>
        </div>
        <div class="footer-note text-center">© 2025 fluktura — Tous droits réservés · <a href="{% url 'CORE:privacy_policy' %}">Politique de confidentialité</a></div>
    </div>
</footer>
{% endblock %}
